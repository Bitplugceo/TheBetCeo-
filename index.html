<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Basketball Prediction Engine</title>

<style>
body { background:#111; color:#d4af37; font-family:Segoe UI; margin:0; }
.wrapper { max-width:900px; margin:auto; padding:10px; }
h1 { text-align:center; }

.section {
  border:1px solid #d4af37;
  padding:10px;
  margin:10px 0;
  background:#1a1a1a;
}

label { display:block; font-size:13px; margin-top:6px; }
input { width:100%; padding:6px; margin-top:2px; background:#222; color:#d4af37; border:1px solid #d4af37; }

button {
  margin:10px 5px;
  padding:8px 16px;
  background:#d4af37;
  border:none;
  font-weight:bold;
  cursor:pointer;
}

#results { width:100%; margin-top:15px; border-collapse:collapse; display:none; }
#results th, #results td { border:1px solid #d4af37; padding:6px; text-align:center; }

.pred-over { background:#1e7d3a; color:white; }
.pred-under { background:#8b1e1e; color:white; }
.pred-noplay { background:#444; color:#bbb; }
</style>
</head>

<body>
<div class="wrapper">
<h1>üèÄ Basketball Prediction Engine</h1>

<div class="section">
<h2>Market Lines</h2>
<label>FT Total Market</label><input id="ftMarket">
<label>1H Total Market</label><input id="h1Market">
<label>Team A Total Market</label><input id="teamAMarket">
<label>Team B Total Market</label><input id="teamBMarket">
</div>

<div class="section">
<h2>Team Scoring Averages</h2>
<label>Team A FT Average</label><input id="teamAAvg">
<label>Team B FT Average</label><input id="teamBAvg">
</div>

<div class="section">
<h2>Head to Head (Optional)</h2>
<label><input type="checkbox" id="useH2HFT"> Use H2H FT</label>
<input id="h2hA" placeholder="Team A H2H FT Avg">
<input id="h2hB" placeholder="Team B H2H FT Avg">

<label><input type="checkbox" id="useH2H1H"> Use H2H 1H</label>
<input id="h2h1H" placeholder="1H H2H Avg Total">
</div>

<div class="section">
<h2>Team Metrics</h2>
<label>Team A Points Allowed</label><input id="aAllowed">
<label>Team B Points Allowed</label><input id="bAllowed">
</div>

<button onclick="runEngine()">RUN</button>
<button onclick="clearAll()">CLEAR</button>

<table id="results"></table>
</div>

<script>
function mid(val){
 if(!val.includes("-")) return NaN;
 let p=val.split("-");
 return (parseFloat(p[0])+parseFloat(p[1]))/2;
}

function runEngine(){
 let market=mid(ftMarket.value);
 let aAvg=parseFloat(teamAAvg.value);
 let bAvg=parseFloat(teamBAvg.value);
 if(isNaN(market)||isNaN(aAvg)||isNaN(bAvg)){alert("Fill main FT fields");return;}

 let engine=aAvg+bAvg;
 if(useH2HFT.checked){
   let hA=parseFloat(h2hA.value)||aAvg;
   let hB=parseFloat(h2hB.value)||bAvg;
   engine=(engine+hA+hB)/2;
 }

 let edge=engine-market;
 let pick=edge>1?"OVER":edge<-1?"UNDER":"NO PLAY";
 let conf=Math.min(95,Math.max(55,70+Math.abs(edge)*4));

 let table=document.getElementById("results");
 table.style.display="table";
 table.innerHTML=`
 <tr><th>Market</th><th>Engine</th><th>Edge</th><th>Pick</th><th>Confidence</th></tr>
 <tr>
 <td>${market.toFixed(1)}</td>
 <td>${engine.toFixed(1)}</td>
 <td>${edge.toFixed(1)}</td>
 <td class="${pick=='OVER'?'pred-over':pick=='UNDER'?'pred-under':'pred-noplay'}">${pick}</td>
 <td>${conf}%</td>
 </tr>`;
}

function clearAll(){
 document.querySelectorAll("input").forEach(i=>{if(i.type!="checkbox")i.value=""; else i.checked=false;});
 results.style.display="none";
}
</script>

</body>
</html>
