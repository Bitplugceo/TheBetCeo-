<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Basketball Prediction Engine</title>

<style>
body{
  margin:0;
  font-family:Georgia, serif;
  background: radial-gradient(circle at top, #111 0%, #000 60%);
  color:#d4af37;
}

h1{
  text-align:center;
  padding:18px 10px 8px;
  font-size:26px;
}

.section{
  border:1.5px solid #d4af37;
  margin:14px;
  padding:14px 16px 18px;
}

.section h2{
  margin:0 0 10px;
  font-size:20px;
}

label{
  display:block;
  margin:8px 0 4px;
  font-size:14px;
}

input{
  width:85%;
  max-width:420px;
  padding:8px;
  background:#151515;
  border:1.5px solid #d4af37;
  color:#fff;
  font-size:14px;
}

input[type=checkbox]{
  width:auto;
  margin-right:6px;
}

.button-row{
  text-align:center;
  margin:18px 0;
}

button{
  background:#d4af37;
  color:#000;
  border:none;
  padding:10px 26px;
  margin:0 10px;
  font-weight:bold;
  font-size:14px;
  cursor:pointer;
}

table{
  width:94%;
  margin:10px auto 30px;
  border-collapse:collapse;
  display:none;
}

th, td{
  border:1.5px solid #d4af37;
  padding:10px;
  text-align:center;
  font-size:14px;
}

.pred-over{background:#1e7d3a;color:#fff;font-weight:bold;}
.pred-under{background:#8b1e1e;color:#fff;font-weight:bold;}
.pred-noplay{background:#444;color:#bbb;font-weight:bold;}
</style>
</head>

<body>

<h1>üèÄ Basketball Prediction Engine</h1>

<div class="section">
<h2>Market Lines</h2>
<label>FT Total Market</label><input id="ftMarket">
<label>1H Total Market</label><input id="h1Market">
<label>Team A Total Market</label><input id="teamAMarket">
<label>Team B Total Market</label><input id="teamBMarket">
</div>

<div class="section">
<h2>Team Scoring Averages</h2>
<label>Team A FT Average</label><input id="teamAAvg">
<label>Team B FT Average</label><input id="teamBAvg">
</div>

<div class="section">
<h2>Head to Head (Optional)</h2>
<label><input type="checkbox" id="useH2HFT"> Use H2H (FT)</label>
<input id="h2hA" placeholder="Team A H2H FT Avg">
<input id="h2hB" placeholder="Team B H2H FT Avg">

<label style="margin-top:10px;"><input type="checkbox" id="useH2H1H"> Use H2H (1H)</label>
<input id="h2h1H" placeholder="1H H2H Avg Total">
</div>

<div class="section">
<h2>Team Metrics</h2>
<label>Team A Points Allowed</label><input id="teamAAllowed">
<label>Team B Points Allowed</label><input id="teamBAllowed">
</div>

<div class="button-row">
<button onclick="runEngine()">RUN</button>
<button onclick="clearAll()">CLEAR</button>
</div>

<table id="results">
<tr>
<th>Pick</th>
<th>Engine</th>
<th>Edge</th>
<th>Prediction</th>
<th>Conf%</th>
</tr>

<tr id="rowFT"><td>FT Total</td><td></td><td></td><td></td><td></td></tr>
<tr id="row1H"><td>1H Total</td><td></td><td></td><td></td><td></td></tr>
<tr id="rowA"><td>Team A</td><td></td><td></td><td></td><td></td></tr>
<tr id="rowB"><td>Team B</td><td></td><td></td><td></td><td></td></tr>
</table>

<script>
function val(id){ return parseFloat(document.getElementById(id).value) || 0 }

function predict(row, market, engine){
  const cells = document.querySelectorAll("#"+row+" td")
  if(!market || !engine){ 
    cells[1].innerText="NaN"
    cells[2].innerText="NaN"
    cells[3].innerText="NO PLAY"
    cells[4].innerText="0%"
    cells[3].className="pred-noplay"
    return
  }

  let edge = engine - market
  let pick = "OVER"
  let cls = "pred-over"
  if(edge < 0){ pick="UNDER"; cls="pred-under" }

  cells[1].innerText = engine.toFixed(1)
  cells[2].innerText = edge.toFixed(1)
  cells[3].innerText = pick
  cells[3].className = cls
  cells[4].innerText = Math.min(95, Math.abs(edge)*3).toFixed(0)+"%"
}

function runEngine(){
  document.getElementById("results").style.display="table"

  let teamA = val("teamAAvg")
  let teamB = val("teamBAvg")
  let allowedA = val("teamAAllowed")
  let allowedB = val("teamBAllowed")

  let ftEngine = (teamA + teamB + allowedA + allowedB) / 2
  let h1Engine = ftEngine * 0.48
  let teamAEngine = (teamA + allowedB)/2
  let teamBEngine = (teamB + allowedA)/2

  predict("rowFT", val("ftMarket"), ftEngine)
  predict("row1H", val("h1Market"), h1Engine)
  predict("rowA", val("teamAMarket"), teamAEngine)
  predict("rowB", val("teamBMarket"), teamBEngine)
}

function clearAll(){
  document.querySelectorAll("input").forEach(i=>i.value="")
  document.getElementById("results").style.display="none"
}
</script>

</body>
</html>
